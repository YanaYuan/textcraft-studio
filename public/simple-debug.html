<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®€æ˜“Promptè°ƒè¯•</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: #4a90e2;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .content {
            padding: 30px;
        }
        
        textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            margin-bottom: 15px;
            box-sizing: border-box;
        }
        
        textarea:focus {
            border-color: #4a90e2;
            outline: none;
        }
        
        button {
            background: #4a90e2;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin-right: 10px;
            margin-bottom: 10px;
            font-size: 14px;
            min-width: 120px;
        }
        
        button:hover {
            background: #357abd;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .button-group button {
            margin: 0;
            flex: 0 0 auto;
        }
        
        .status {
            padding: 10px;
            border-radius: 6px;
            margin: 15px 0;
            font-weight: 500;
        }
        
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .info { background: #d1ecf1; color: #0c5460; }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #333;
        }
        
        .test-area {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .test-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            margin-bottom: 15px;
            box-sizing: border-box;
            font-size: 14px;
        }
        
        .test-textarea {
            min-height: 100px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
        }
        
        .input-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .input-group {
            display: flex;
            flex-direction: column;
        }
        
        .input-group label {
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #333;
        }
        
        .test-button {
            background: #28a745;
            width: 100%;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
        }
        
        .test-button:hover {
            background: #218838;
        }
        
        .preview-button {
            background: #6f42c1 !important;
        }
        
        .preview-button:hover {
            background: #5a32a3 !important;
        }
        
        .inspect-button {
            background: #fd7e14 !important;
        }
        
        .inspect-button:hover {
            background: #e96500 !important;
        }
        
        @media (max-width: 768px) {
            .input-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .button-group button {
                width: 100%;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>ğŸ”§ ç®€æ˜“Promptè°ƒè¯•å·¥å…·</h2>
            <p>å¿«é€Ÿä¿®æ”¹å’Œæµ‹è¯•AIæç¤ºè¯</p>
        </div>
        
        <div class="content">
            <div class="form-group">
                <label>ç³»ç»Ÿè§’è‰² (System Role):</label>
                <textarea id="systemRole" rows="3" placeholder="å®šä¹‰AIçš„è§’è‰²å’Œè¡Œä¸º..."></textarea>
            </div>
            
            <div class="form-group">
                <label>åŸºç¡€æç¤ºè¯ (Base Prompt):</label>
                <textarea id="basePrompt" rows="8" placeholder="è¾“å…¥åŸºç¡€æç¤ºè¯..."></textarea>
            </div>
            
            <div class="form-group">
                <label>å›¾ç‰‡æç¤ºè¯ (Image Prompt):</label>
                <textarea id="imagePrompt" rows="4" placeholder="åŒ…å«å›¾ç‰‡æ—¶çš„æç¤ºè¯..."></textarea>
            </div>
            
            <div class="form-group">
                <label>ç»“æŸæç¤ºè¯ (End Prompt):</label>
                <textarea id="endPrompt" rows="2" placeholder="æœ€ç»ˆçš„æ ¼å¼è¦æ±‚..."></textarea>
            </div>
            
            <div class="button-group">
                <button onclick="savePrompt()">ğŸ’¾ ä¿å­˜é…ç½®</button>
                <button onclick="loadPrompt()">ğŸ”„ åŠ è½½é…ç½®</button>
                <button onclick="resetPrompt()">ğŸ”¥ æ¢å¤é»˜è®¤</button>
            </div>
            
            <div id="status"></div>
            
            <div class="test-area">
                <h4>ğŸ§ª å¿«é€Ÿæµ‹è¯•</h4>
                <div class="input-grid">
                    <div class="input-group">
                        <label>æµ‹è¯•æ–‡æœ¬:</label>
                        <textarea id="testText" class="test-input test-textarea" placeholder="è¾“å…¥æµ‹è¯•æ–‡æœ¬ï¼Œæ”¯æŒå¤šè¡Œæ®µè½...">æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººåšå®¢ï¼è¿™é‡Œè®°å½•äº†æˆ‘çš„å­¦ä¹ å¿ƒå¾—å’Œç”Ÿæ´»æ„Ÿæ‚Ÿã€‚

åœ¨è¿™ä¸ªæ•°å­—åŒ–çš„æ—¶ä»£ï¼Œæˆ‘å¸Œæœ›é€šè¿‡æ–‡å­—ä¸å¤§å®¶åˆ†äº«ç¾å¥½çš„æ—¶å…‰ï¼Œäº¤æµæ€æƒ³å’Œç»éªŒã€‚</textarea>
                    </div>
                    <div class="input-group">
                        <label>æ¨¡æ‹ŸåŒ…å«å›¾ç‰‡:</label>
                        <select id="includeImage" class="test-input">
                            <option value="no">âŒ æ— å›¾ç‰‡</option>
                            <option value="yes">âœ… åŒ…å«å›¾ç‰‡</option>
                        </select>
                        <button onclick="previewPrompt()" class="test-button preview-button" style="margin-bottom: 10px;">ğŸ‘ï¸ é¢„è§ˆå®Œæ•´Prompt</button>
                        <button onclick="viewLastUsedPrompt()" class="test-button inspect-button" style="margin-bottom: 10px;">ğŸ” æŸ¥çœ‹å®é™…å‘é€</button>
                        <button onclick="testGenerate()" class="test-button">ğŸš€ æµ‹è¯•ç”Ÿæˆ</button>
                    </div>
                </div>
            </div>
            
            <div id="promptPreview" style="display: none; background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 20px; border: 2px solid #dee2e6;">
                <h4 style="margin-top: 0; color: #495057;">ğŸ“‹ å®Œæ•´Prompté¢„è§ˆ</h4>
                <div id="promptContent" style="font-family: 'Courier New', monospace; font-size: 13px; line-height: 1.6; white-space: pre-wrap; background: white; padding: 15px; border-radius: 6px; border: 1px solid #ddd; max-height: 500px; overflow-y: auto;"></div>
                <div style="margin-top: 15px;">
                    <button onclick="copyPromptToClipboard()" style="background: #17a2b8; margin-right: 10px;">ğŸ“‹ å¤åˆ¶åˆ°å‰ªè´´æ¿</button>
                    <button onclick="hidePromptPreview()" style="background: #6c757d;">âŒ å…³é—­é¢„è§ˆ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // é»˜è®¤é…ç½®
        const defaultConfig = {
            systemRole: "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç½‘é¡µå†…å®¹ç”Ÿæˆå™¨ã€‚",
            basePrompt: `è¯·æ ¹æ®ç”¨æˆ·æä¾›çš„æ–‡æœ¬å†…å®¹ï¼Œç”Ÿæˆä¸€ä¸ªç¾è§‚ã€ç°ä»£åŒ–çš„HTMLç½‘é¡µã€‚è¦æ±‚ï¼š
1. ä½¿ç”¨ç°ä»£CSSè®¾è®¡ï¼ŒåŒ…å«æ¸å˜èƒŒæ™¯ã€é˜´å½±æ•ˆæœã€åœ†è§’ç­‰
2. å­—ä½“é€‰æ‹©ä¼˜é›…ï¼Œæ’ç‰ˆæ¸…æ™°
3. å“åº”å¼è®¾è®¡ï¼Œé€‚é…ä¸åŒè®¾å¤‡
4. é…è‰²å’Œè°ï¼Œè§†è§‰æ•ˆæœä½³
5. åŒ…å«é€‚å½“çš„åŠ¨ç”»æ•ˆæœ
6. ä½¿ç”¨è¯­ä¹‰åŒ–HTMLæ ‡ç­¾`,
            imagePrompt: `7. åœ¨åˆé€‚ä½ç½®æ’å…¥AIç”Ÿæˆçš„å›¾ç‰‡ï¼Œä½¿ç”¨<img>æ ‡ç­¾
8. å›¾ç‰‡æè¿°è¦ä¸å†…å®¹ä¸»é¢˜ç›¸å…³
9. å›¾ç‰‡å°ºå¯¸å»ºè®®16:9æ¯”ä¾‹ï¼Œå®½åº¦800px
10. ä¸ºå›¾ç‰‡æ·»åŠ altå±æ€§å’Œæ ·å¼`,
            endPrompt: `è¯·ç›´æ¥è¿”å›å®Œæ•´çš„HTMLä»£ç ï¼Œä¸è¦æœ‰ä»»ä½•å…¶ä»–è§£é‡Šã€‚`
        };

        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = function() {
            loadPrompt();
        };

        // ä¿å­˜æç¤ºè¯åˆ°æœåŠ¡å™¨
        function savePrompt() {
            const config = {
                systemRole: document.getElementById('systemRole').value,
                basePrompt: document.getElementById('basePrompt').value,
                imagePrompt: document.getElementById('imagePrompt').value,
                endPrompt: document.getElementById('endPrompt').value
            };

            fetch('/api/debug/update-prompt', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(config)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showStatus('âœ… é…ç½®å·²ä¿å­˜åˆ°æœåŠ¡å™¨', 'success');
                } else {
                    showStatus('âŒ ä¿å­˜å¤±è´¥: ' + data.error, 'error');
                }
            })
            .catch(error => {
                showStatus('âŒ ä¿å­˜å¤±è´¥: ' + error.message, 'error');
            });
        }

        // ä»æœåŠ¡å™¨åŠ è½½æç¤ºè¯
        function loadPrompt() {
            fetch('/api/debug/get-prompt')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('systemRole').value = data.config.systemRole || '';
                    document.getElementById('basePrompt').value = data.config.basePrompt || '';
                    document.getElementById('imagePrompt').value = data.config.imagePrompt || '';
                    document.getElementById('endPrompt').value = data.config.endPrompt || '';
                    showStatus('âœ… é…ç½®å·²ä»æœåŠ¡å™¨åŠ è½½', 'success');
                } else {
                    showStatus('âŒ åŠ è½½å¤±è´¥: ' + data.error, 'error');
                }
            })
            .catch(error => {
                showStatus('âŒ åŠ è½½å¤±è´¥: ' + error.message, 'error');
            });
        }

        // é‡ç½®ä¸ºé»˜è®¤é…ç½®
        function resetPrompt() {
            fetch('/api/debug/reset-prompt', { method: 'POST' })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // é‡æ–°åŠ è½½é…ç½®
                    loadPrompt();
                    showStatus('ğŸ”„ å·²æ¢å¤é»˜è®¤é…ç½®', 'info');
                } else {
                    // å¦‚æœæœåŠ¡å™¨é‡ç½®å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°é»˜è®¤é…ç½®
                    document.getElementById('systemRole').value = defaultConfig.systemRole;
                    document.getElementById('basePrompt').value = defaultConfig.basePrompt;
                    document.getElementById('imagePrompt').value = defaultConfig.imagePrompt;
                    document.getElementById('endPrompt').value = defaultConfig.endPrompt;
                    showStatus('ğŸ”„ å·²æ¢å¤é»˜è®¤é…ç½®', 'info');
                }
            })
            .catch(error => {
                // å¦‚æœç½‘ç»œé”™è¯¯ï¼Œä½¿ç”¨æœ¬åœ°é»˜è®¤é…ç½®
                document.getElementById('systemRole').value = defaultConfig.systemRole;
                document.getElementById('basePrompt').value = defaultConfig.basePrompt;
                document.getElementById('imagePrompt').value = defaultConfig.imagePrompt;
                document.getElementById('endPrompt').value = defaultConfig.endPrompt;
                showStatus('ğŸ”„ å·²æ¢å¤é»˜è®¤é…ç½®', 'info');
            });
        }

        // é¢„è§ˆå®Œæ•´Prompt
        function previewPrompt() {
            const testText = document.getElementById('testText').value.trim();
            const includeImage = document.getElementById('includeImage').value === 'yes';
            
            if (!testText) {
                showStatus('âŒ è¯·å…ˆè¾“å…¥æµ‹è¯•æ–‡æœ¬', 'error');
                return;
            }

            // è·å–å½“å‰çš„prompté…ç½®
            const systemRole = document.getElementById('systemRole').value;
            const basePrompt = document.getElementById('basePrompt').value;
            const imagePrompt = document.getElementById('imagePrompt').value;
            const endPrompt = document.getElementById('endPrompt').value;
            
            // æ„å»ºå®Œæ•´çš„ç”¨æˆ·æç¤ºè¯
            let fullUserPrompt = basePrompt;
            
            // å¦‚æœåŒ…å«å›¾ç‰‡ï¼Œæ·»åŠ å›¾ç‰‡æç¤ºè¯
            if (includeImage) {
                fullUserPrompt += '\n\n' + imagePrompt;
            }
            
            // æ·»åŠ ç»“æŸæç¤ºè¯
            fullUserPrompt += '\n\n' + endPrompt;
            
            // æ·»åŠ ç”¨æˆ·æ–‡æœ¬
            fullUserPrompt += '\n\nç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬å†…å®¹ï¼š\n' + testText;
            
            // æ„å»ºå®Œæ•´çš„å¯¹è¯æ¶ˆæ¯
            const fullPrompt = `=== ğŸ¤– å‘é€ç»™Azure OpenAI GPT-4oçš„å®Œæ•´æ¶ˆæ¯ ===

ğŸ“‹ System Message (ç³»ç»Ÿè§’è‰²):
${systemRole}

ğŸ“ User Message (ç”¨æˆ·æ¶ˆæ¯):
${fullUserPrompt}

=== âš™ï¸ è¯·æ±‚å‚æ•° ===
â€¢ æ¨¡å‹: gpt-4o
â€¢ æœ€å¤§Tokenæ•°: 4000
â€¢ æ¸©åº¦å‚æ•°: 0.7
â€¢ åŒ…å«å›¾ç‰‡: ${includeImage ? 'âœ… æ˜¯' : 'âŒ å¦'}
${includeImage ? 'â€¢ å›¾ç‰‡ç”Ÿæˆæ¨¡å‹: DALL-E 3' : ''}

=== ğŸ“Š ç»Ÿè®¡ä¿¡æ¯ ===
â€¢ ç³»ç»Ÿè§’è‰²å­—ç¬¦æ•°: ${systemRole.length}
â€¢ ç”¨æˆ·æ¶ˆæ¯å­—ç¬¦æ•°: ${fullUserPrompt.length}
â€¢ ç”¨æˆ·è¾“å…¥æ–‡æœ¬å­—ç¬¦æ•°: ${testText.length}
â€¢ æ€»å­—ç¬¦æ•°: ${(systemRole + fullUserPrompt).length}
â€¢ é¢„ä¼°Tokenæ•°: ${Math.ceil((systemRole + fullUserPrompt).length / 3)}`;

            // æ˜¾ç¤ºé¢„è§ˆ
            document.getElementById('promptContent').textContent = fullPrompt;
            document.getElementById('promptPreview').style.display = 'block';
            
            // æ»šåŠ¨åˆ°é¢„è§ˆåŒºåŸŸ
            document.getElementById('promptPreview').scrollIntoView({ behavior: 'smooth' });
            
            showStatus('ğŸ‘ï¸ Prompté¢„è§ˆå·²ç”Ÿæˆ', 'info');
        }

        // å¤åˆ¶Promptåˆ°å‰ªè´´æ¿
        function copyPromptToClipboard() {
            const promptContent = document.getElementById('promptContent').textContent;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(promptContent).then(() => {
                    showStatus('ğŸ“‹ Promptå·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
                }).catch(err => {
                    fallbackCopyToClipboard(promptContent);
                });
            } else {
                fallbackCopyToClipboard(promptContent);
            }
        }

        // é™çº§å¤åˆ¶æ–¹æ¡ˆ
        function fallbackCopyToClipboard(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showStatus('ğŸ“‹ Promptå·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
            } catch (err) {
                showStatus('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬å¤åˆ¶', 'error');
            } finally {
                document.body.removeChild(textArea);
            }
        }

        // éšè—Prompté¢„è§ˆ
        function hidePromptPreview() {
            document.getElementById('promptPreview').style.display = 'none';
        }

        // æŸ¥çœ‹æœåŠ¡å™¨å®é™…å‘é€çš„Prompt
        function viewLastUsedPrompt() {
            showStatus('ğŸ”„ æ­£åœ¨è·å–å®é™…å‘é€çš„Prompt...', 'info');
            
            fetch('/api/debug/last-prompt')
            .then(response => response.json())
            .then(data => {
                if (data.success && data.lastPrompt && data.lastPrompt.timestamp) {
                    const lastPrompt = data.lastPrompt;
                    const timeAgo = new Date(lastPrompt.timestamp).toLocaleString('zh-CN');
                    
                    const actualPrompt = `=== ğŸ” æœåŠ¡å™¨å®é™…å‘é€ç»™AIçš„Prompt ===

â° å‘é€æ—¶é—´: ${timeAgo}
ğŸ–¼ï¸ åŒ…å«å›¾ç‰‡: ${lastPrompt.hasImage ? 'âœ… æ˜¯' : 'âŒ å¦'}
${lastPrompt.hasImage && lastPrompt.imageUrl ? `ğŸ”— å›¾ç‰‡URL: ${lastPrompt.imageUrl}` : ''}
${lastPrompt.hasImage && !lastPrompt.imageUrl ? 'âš ï¸ å›¾ç‰‡ç”Ÿæˆå¤±è´¥' : ''}

ğŸ“‹ System Message (å®é™…å‘é€):
${lastPrompt.systemRole}

ğŸ“ User Message (å®é™…å‘é€):
${lastPrompt.userPrompt}

=== ğŸ“Š å®é™…ç»Ÿè®¡ ===
â€¢ ç³»ç»Ÿè§’è‰²å­—ç¬¦æ•°: ${lastPrompt.systemRole.length}
â€¢ ç”¨æˆ·æ¶ˆæ¯å­—ç¬¦æ•°: ${lastPrompt.userPrompt.length}
â€¢ æ€»å­—ç¬¦æ•°: ${(lastPrompt.systemRole + lastPrompt.userPrompt).length}
â€¢ é¢„ä¼°Tokenæ•°: ${Math.ceil((lastPrompt.systemRole + lastPrompt.userPrompt).length / 3)}

=== ğŸ”§ æŠ€æœ¯ç»†èŠ‚ ===
â€¢ APIç«¯ç‚¹: ${lastPrompt.endpoint || 'Azure OpenAI'}
â€¢ æ¨¡å‹: ${lastPrompt.model || 'gpt-4o'}
â€¢ æ¸©åº¦å‚æ•°: ${lastPrompt.temperature || '0.7'}
â€¢ æœ€å¤§Token: ${lastPrompt.maxTokens || '4000'}`;

                    // æ˜¾ç¤ºå®é™…prompt
                    document.getElementById('promptContent').textContent = actualPrompt;
                    document.getElementById('promptPreview').style.display = 'block';
                    document.getElementById('promptPreview').style.borderColor = '#fd7e14';
                    document.getElementById('promptPreview').style.borderWidth = '2px';
                    
                    // æ»šåŠ¨åˆ°é¢„è§ˆåŒºåŸŸ
                    document.getElementById('promptPreview').scrollIntoView({ behavior: 'smooth' });
                    
                    showStatus('ğŸ” å·²æ˜¾ç¤ºæœåŠ¡å™¨å®é™…å‘é€çš„Prompt', 'success');
                } else {
                    showStatus('âš ï¸ è¿˜æ²¡æœ‰å‘é€è¿‡è¯·æ±‚ï¼Œè¯·å…ˆæµ‹è¯•ç”Ÿæˆä¸€æ¬¡', 'error');
                }
            })
            .catch(error => {
                showStatus('âŒ è·å–å®é™…Promptå¤±è´¥: ' + error.message, 'error');
            });
        }
        function testGenerate() {
            const testText = document.getElementById('testText').value.trim();
            const includeImage = document.getElementById('includeImage').value === 'yes';

            if (!testText) {
                showStatus('âŒ è¯·è¾“å…¥æµ‹è¯•æ–‡æœ¬', 'error');
                return;
            }

            showStatus('â³ æ­£åœ¨ç”Ÿæˆç½‘é¡µ...', 'info');

            const requestData = {
                text: testText,
                imageOption: includeImage ? 'yes' : 'no',
                imageStyle: 'realistic'
            };

            fetch('/api/generate-webpage', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(requestData)
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showStatus('âœ… ç½‘é¡µç”ŸæˆæˆåŠŸï¼è¯·æŸ¥çœ‹æ–°æ‰“å¼€çš„çª—å£', 'success');
                    // åœ¨æ–°çª—å£ä¸­æ‰“å¼€ç”Ÿæˆçš„ç½‘é¡µ
                    const newWindow = window.open('', '_blank');
                    newWindow.document.write(data.html);
                    newWindow.document.close();
                } else {
                    showStatus('âŒ ç”Ÿæˆå¤±è´¥: ' + data.error, 'error');
                }
            })
            .catch(error => {
                showStatus('âŒ ç”Ÿæˆå¤±è´¥: ' + error.message, 'error');
            });
        }

        // æ˜¾ç¤ºçŠ¶æ€ä¿¡æ¯
        function showStatus(message, type) {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = message;
            statusDiv.className = 'status ' + type;
            
            // 3ç§’åè‡ªåŠ¨æ¸…é™¤æˆåŠŸå’Œä¿¡æ¯çŠ¶æ€
            if (type === 'success' || type === 'info') {
                setTimeout(() => {
                    statusDiv.innerHTML = '';
                    statusDiv.className = '';
                }, 3000);
            }
        }
    </script>
</body>
</html>
